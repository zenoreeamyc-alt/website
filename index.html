<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Topup H2H - Atlantic Integration</title>
  <meta name="description" content="Form order topup via Atlantic H2H, dikirim ke backend Vercel." />
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;}
    :root{
      --bg:#020617;--card:#0f172a;
      --accent:#38bdf8;--accent-soft:rgba(56,189,248,.15);
      --text:#e5e7eb;--text-soft:#9ca3af;
    }
    body{background:radial-gradient(circle at top,rgba(56,189,248,.15),transparent 60%),var(--bg);color:var(--text);}
    .container{max-width:1100px;margin:auto;padding:0 1.5rem;}
    header{position:sticky;top:0;z-index:10;background:rgba(15,23,42,.95);backdrop-filter:blur(10px);border-bottom:1px solid rgba(148,163,184,.3);}
    .nav-inner{display:flex;justify-content:space-between;align-items:center;padding:.8rem 0;}
    .logo{font-weight:700;font-size:1.3rem;} .logo span{color:var(--accent);}
    nav{display:flex;gap:1rem;} nav a{text-decoration:none;color:var(--text);font-size:.9rem;}
    nav a:hover{color:var(--accent);}
    .section{padding:3.2rem 0;}
    .hero{min-height:70vh;display:flex;align-items:center;}
    .hero-grid{display:grid;gap:2rem;}
    .hero-title{font-size:2.1rem;margin-bottom:1rem;}
    .hero-title span{color:var(--accent);}
    .lead{color:var(--text-soft);max-width:560px;margin-bottom:1.5rem;line-height:1.6;}
    .btn{display:inline-block;padding:.6rem 1.3rem;border-radius:999px;font-size:.95rem;font-weight:600;text-decoration:none;border:1px solid transparent;cursor:pointer;}
    .btn-primary{background:var(--accent);color:#020617;}
    .btn-outline{border-color:var(--accent);color:var(--text);}
    .card{background:var(--card);border-radius:1rem;border:1px solid rgba(148,163,184,.3);padding:1.4rem;}
    .grid{display:grid;gap:1.2rem;}
    h2{text-align:center;margin-bottom:1rem;}
    p.section-sub{text-align:center;color:var(--text-soft);margin-bottom:2rem;}
    label{display:block;font-size:.85rem;margin-bottom:.25rem;}
    input,textarea{width:100%;padding:.55rem .7rem;border-radius:.55rem;border:1px solid rgba(148,163,184,.5);background:#020617;color:var(--text);margin-bottom:.9rem;}
    input::placeholder,textarea::placeholder{color:rgba(148,163,184,.8);}
    textarea{min-height:70px;resize:vertical;}
    button{width:100%;padding:.6rem 1rem;border-radius:.7rem;border:none;font-weight:600;cursor:pointer;background:var(--accent);color:#020617;}
    button:disabled{opacity:.6;cursor:not-allowed;}
    .status{margin-top:.7rem;font-size:.85rem;min-height:1.2rem;}
    .status.ok{color:#4ade80;}
    .status.err{color:#f97373;}
    .contact-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr));}
    .contact-grid a{color:var(--accent);text-decoration:none;}
    .contact-grid a:hover{text-decoration:underline;}
    footer{margin-top:2rem;padding:1.5rem 0;border-top:1px solid rgba(148,163,184,.3);text-align:center;font-size:.85rem;color:var(--text-soft);background:#020617;}
    @media(min-width:768px){.hero-grid{grid-template-columns:minmax(0,1.4fr) minmax(0,1fr);}}
  </style>
</head>
<body>

<header>
  <div class="container nav-inner">
    <div class="logo">Topup<span>H2H</span></div>
    <nav>
      <a href="#hero">Home</a>
      <a href="#order">Order</a>
      <a href="#contact">Kontak</a>
    </nav>
  </div>
</header>

<section id="hero" class="section hero">
  <div class="container hero-grid">
    <div>
      <h1 class="hero-title">Order Topup <span>Atlantic H2H</span> via Website</h1>
      <p class="lead">
        Versi web yang mengikuti alur WhatsApp: kode layanan + tujuan dikirim ke server,
        lalu server meneruskan ke <code>https://atlantich2h.com/transaksi/create</code> dengan API key Atlantic.
      </p>
      <a href="#order" class="btn btn-primary">Mulai Order</a>
      <a href="#contact" class="btn btn-outline">Kontak Admin</a>
    </div>
    <div class="card">
      <h3>Alur (Mirip Bot WhatsApp)</h3>
      <p style="color:var(--text-soft);font-size:.9rem;line-height:1.6;margin-top:.5rem;">
        1) User isi kode & tujuan di form<br />
        2) Website kirim ke <code>/api/order</code><br />
        3) <code>/api/order</code> membuat <code>reff_id</code> & memanggil
        <code>/transaksi/create</code> di Atlantic dengan:<br />
        <code>reff_id, code, target, api_key</code>
      </p>
    </div>
  </div>
</section>

<section id="order" class="section">
  <div class="container">
    <h2>Form Order Topup</h2>
    <p class="section-sub">
      Kode layanan & tujuan mengikuti format yang sudah berjalan di bot WhatsApp Atlantich2h.
    </p>

    <div class="card" style="max-width:520px;margin:0 auto;">
      <form id="orderForm">
        <label for="service">Kode Layanan / Produk</label>
        <input id="service" name="service" placeholder="contoh: DANA10, OVO20, PULSA25" required />

        <label for="target">Tujuan (No HP / ID Game / dsb)</label>
        <input id="target" name="target" placeholder="contoh: 0851xxxxxxx / ID+Server" required />

        <label for="note">Catatan Tambahan (opsional)</label>
        <textarea id="note" name="note" placeholder="misal: nickname, server, atau info lain (jika perlu)"></textarea>

        <button type="submit" id="submitBtn">Kirim Order</button>
        <div id="status" class="status"></div>
        <p style="font-size:.78rem;color:var(--text-soft);margin-top:.5rem;">
          * Setelah upload, cek log Vercel untuk melihat respon asli dari Atlantic (provider).
        </p>
      </form>
    </div>
  </div>
</section>

<section id="contact" class="section">
  <div class="container">
    <h2>Kontak Admin</h2>
    <div class="grid contact-grid" style="margin-top:1.5rem;">
      <div class="card">
        <h3>WhatsApp</h3>
        <p><a href="https://wa.me/6285189656447" target="_blank">Chat WhatsApp</a></p>
      </div>
      <div class="card">
        <h3>Telegram</h3>
        <p><a href="https://t.me/caevzz" target="_blank">@caevzz</a></p>
      </div>
      <div class="card">
        <h3>Email</h3>
        <p><a href="mailto:zenoreeamyc@gmail.com">zenoreeamyc@gmail.com</a></p>
      </div>
    </div>
  </div>
</section>

<footer>
  © <span id="year"></span> Topup H2H — Integrasi Atlantic via Backend
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  const form = document.getElementById("orderForm");
  const statusEl = document.getElementById("status");
  const btn = document.getElementById("submitBtn");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusEl.textContent = "";
    statusEl.className = "status";
    btn.disabled = true;

    const payload = {
      service: form.service.value.trim(),
      target: form.target.value.trim(),
      note: form.note.value.trim() || null,
    };

    try {
      const res = await fetch("/api/order", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });

      const data = await res.json().catch(() => ({}));

      if (!res.ok) {
        statusEl.textContent = data.message || "Order gagal dikirim ke server backend.";
        statusEl.classList.add("err");
      } else {
        statusEl.textContent = data.message || "Order berhasil dikirim. Cek status di panel / bot.";
        statusEl.classList.add("ok");
        form.reset();
      }
    } catch (err) {
      statusEl.textContent = "Terjadi kesalahan jaringan atau server.";
      statusEl.classList.add("err");
    } finally {
      btn.disabled = false;
    }
  });
</script>

</body>
</html>
